<!DOCTYPE module SYSTEM "module.dtd">

<module name="logger_sd_spi_direct" dir="loggers">
  <doc>
    <description>Direct SPI SD Logger that saves pprzlog messages to SD Card.</description>
  </doc>
  <header>
    <file name="sdlogger_spi_direct.h"/>
  </header>
  <init fun="sdlogger_spi_direct_init()"/>
  <periodic fun="sdlogger_spi_direct_periodic()" freq="512" start="sdlogger_spi_direct_start()" stop="sdlogger_spi_direct_stop()" autorun="FALSE"/>
  <makefile>
    <file name="sdcard_spi.c" dir="peripherals"/>
    <file name="sdlogger_spi_direct.c"/>
  </makefile>
  <makefile target="ap">
    <define name="SPI_MASTER" value="1" />
    <define name="USE_SPI2" value="1" />
    <define name="SD_LOGGER_SPI_LINK_DEVICE" value="spi2" />
    <define name="USE_SPI_SLAVE2" value="1" />
    <define name="SD_LOGGER_SPI_LINK_SLAVE_NUMBER" value="SPI_SLAVE2" />
  </makefile>
</module>

